# 📚 RevTechStudioプラグイン構成要素の解説

## 📖 概要

本ドキュメントは、当チームが採用しているClaude Codeプラグインの要素定義について説明します。これらの定義は一般的な定義ではなく、当チーム独自の考え方に基づいています。

## 🔧 要素の種類

### 🤖 エージェント（Agent）

エージェントは**責任範囲が定義されている**要素です。

「誰が何に対して責任を持つか」を明確にするための要素であり、具体的な作業内容やワークフローは定義されていません。フェーズ全体を統括する役割を担います。

#### 例：Requirements Agent

- 要件定義フェーズ全体に対する責任を持つ
- ユーザーとの対話を通じて要件を整理・構造化する責任範囲を持つ

### ⚙️ スキル（Skill）

スキルは**単一作業のワークフローが記述されている**要素です。

一つの明確な目的を持った作業の手順が定義されており、その作業に必要な規約やガイドラインも含まれています。1スキル1目的の原則に従います。

#### スキルの2つの分類

当チームでは、スキルを以下の2種類に分けています。

**1. Workflow Skill（ワークフロースキル）:**

実際にワークフローに沿って具体的な作業を実行するスキルです。アウトプットを生成することが主な目的となります。

- **例：Code Generator** - 設計仕様からソースコードを生成する
- **例：API Designer** - API仕様を設計する
- **例：Database Schema Designer** - データベーススキーマを設計する

**2. Convention Skill（コンベンションスキル）:**

規約やガイドラインが定義されているスキルです。ワークフロースキル内に規約を記述すると内容が肥大化してしまう場合に、規約部分を別スキルとして分割します。

- **例：コーディング規約スキル** - 変数命名規則、インデントルールなど
- **例：API設計ガイドライン** - RESTful設計原則、エンドポイント命名規則など

基本はワークフロースキルの中に規約やガイドラインを直接記述します。ただし、スキルの肥大化を避ける目的でコンベンションスキルとして分離します。

### 💻 コマンド（Command）

コマンドは**エージェントと複数のスキルを組み合わせて作業を行うためのワークフロー**が定義されている要素です。

ユーザーが実際に実行する指示であり、一つのコマンドが複数のスキルを適切な順序で呼び出してフェーズ全体の作業を進めます。

#### コマンドの役割と依存関係の管理

**重要な設計原則**：すべてのエージェントおよびすべてのスキルは互いに依存しません。各要素は独立した要素として確立されます。

コマンドが以下の責任を持ちます：

- どのエージェントがどのスキルを使用するかを定義
- 成果物のファイルパスやディレクトリ構造を定義
- スキル間のデータの受け渡しを定義
- 実行順序とワークフローを定義

つまり、**依存関係についてはすべてコマンドが引き受けます**。これにより、エージェントとスキルは再利用可能な独立したコンポーネントとして設計できます。

#### コマンドの例

**例：`requirements` コマンド**

- Requirements Agent の責任範囲で動作
- Interaction Guideline Skill、Requirements Structurer、Domain Modelerなど複数のスキルを組み合わせる
- 各スキルの実行順序を定義
- 要件定義書の出力先を指定
- 要件定義フェーズの開始から完了までを管理

**例：`design` と `task` コマンド**

- `design`：詳細設計フェーズ全体を管理し、設計書の出力先を指定
- `task`：設計完了後にタスク分割を実行し、タスクリストの出力先を指定

各フェーズでは1〜2個のコマンドに抑えることで、ユーザーが覚えるべきコマンド数を最小限にしています。
